<!-- Display the title if it exists, otherwise redirect to home -->
<% if (title) { %>
<h1>
  <%- messages() %>
  <% if (errors) { %>
    <ul class="notice">
      <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
      <%  }) %>
    </ul>
  <% } %>
  <%= title %>
</h1>
<% } else {
  res.redirect('/')
} %>

<p>All fields are required</p>
<form action="/inv/update" method="post" id="updateForm">
  <label for="classification_id">Classification:</label>
  <%- classificationSelect %>

  <label for="inv_make">Make:</label>
  <input type="text" name="inv_make" id="invModifyMake" required value="<%= locals.inv_make %>" pattern=".{3,}" placeholder="Min of 3 characters">
  
  <label for="inv_model">Model:</label>
  <input type="text" name="inv_model" id="invModifyModel" required value="<%= locals.inv_model %>" pattern=".{3,}" placeholder="Min of 3 characters">
  
  <label for="inv_description">Description:</label>
  <input type="text" name="inv_description" id="invModifyDescription" required value="<%= locals.inv_description %>" pattern="^.{1,250}$">
  
  <label for="inv_image">Image:</label>
  <input type="text" name="inv_image" id="invModifyImage" required value="<%= locals.inv_image %>" pattern=".{3,}" placeholder="/images/vehicles/no-image.png">
  
  <label for="inv_thumbnail">Thumbnail:</label>
  <input type="text" name="inv_thumbnail" id="invModifyThumbnail" required value="<%= locals.inv_thumbnail %>" pattern=".{3,}" placeholder="/images/vehicles/no-image.png">
  
  <label for="inv_price">Price:</label>
  <input type="number" name="inv_price" id="invModifyPrice" required value="<%= locals.inv_price %>" step="any" placeholder="Decimal or integer">
  
  <label for="inv_year">Year:</label>
  <input type="number" name="inv_year" id="invModifyYear" required value="<%= locals.inv_year %>" min="1800" max="2099" step="1" placeholder="4-digit year">
  
  <label for="inv_miles">Miles:</label>
  <input type="number" name="inv_miles" id="invModifyMiles" required value="<%= locals.inv_miles %>" min="0" max="3250000" step="1" placeholder="Digits only">
  
  <label for="inv_color">Color:</label>
  <input type="text" name="inv_color" id="invModifyColor" required value="<%= locals.inv_color %>">
  
  <input type="submit" value="Modify Inventory" class="submit-button" disabled>

  <input type="hidden" name="inv_id"
    <% if(locals.inv_id) { %> value="<%= locals.inv_id %>"
    <% } %>>
</form>

<script src="/js/inv-update.js"></script>